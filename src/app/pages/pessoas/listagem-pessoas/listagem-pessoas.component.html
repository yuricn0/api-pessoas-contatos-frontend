<div class="mt-3 mb-4">
  <div class="input-group w-25 float-end p-3">
    <span class="input-group-text">
      <i class="fa fa-search"></i>
    </span>
    <input
      type="text"
      class="form-control"
      placeholder="Pesquisar por nome ..."
      [(ngModel)]="filtroNome"
      (input)="filtrarPessoas()"
    />
  </div>
</div>

<table class="table table-hover table-dark table-striped">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Nome</th>
      <th scope="col">Endereço</th>
      <th scope="col">Cep</th>
      <th scope="col">Cidade</th>
      <th scope="col">UF</th>
      <th scope="col">Contato</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let pessoa of pessoasFiltradas">
      <td>{{ pessoa.id }}</td>
      <td>{{ pessoa.nome }}</td>
      <td>{{ pessoa.endereco }}</td>
      <td>{{ pessoa.cep }}</td>
      <td>{{ pessoa.cidade }}</td>
      <td>{{ pessoa.uf }}</td>
      <td>
        <ng-container *ngIf="pessoa.contatos && pessoa.contatos.length > 0">
          {{ pessoa.contatos[0].contato }}
        </ng-container>
        <ng-container *ngIf="!pessoa.contatos || pessoa.contatos.length === 0">
          Celular não cadastrado
        </ng-container>
      </td>
      <td>
        <a
          class="btn btn-secondary me-4"
          title="Editar"
          [routerLink]="['/editar-pessoa', pessoa.id]"
        >
          <i class="fa fa-pencil" aria-hidden="true"></i>
        </a>
        <button
          class="btn btn-danger"
          title="Deletar"
          (click)="deletarPessoa(pessoa.id)"
        >
          <i class="fa fa-trash" aria-hidden="true"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
<div class="col-10 text-end mt-4 ms-auto me-auto raw">
  <a class="btn btn-primary me-2" routerLink="/cadastrar-pessoa">Cadastrar Pessoa</a>
  <a class="btn btn-secondary" routerLink="/">Voltar</a>
</div>

